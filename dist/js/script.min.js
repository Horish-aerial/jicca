"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".c-hamburger"),t=document.querySelector(".l-header"),r=document.querySelector("#global-nav");if(!e||!t||!r)return;const o=()=>{t.classList.remove("is-nav-open"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","メニューを開く"),r.setAttribute("aria-hidden","true"),document.body.classList.remove("is-menu-open")};e.addEventListener("click",()=>{t.classList.contains("is-nav-open")?o():(t.classList.add("is-nav-open"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","メニューを閉じる"),r.setAttribute("aria-hidden","false"),document.body.classList.add("is-menu-open"))}),r.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{o()})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".p-faq__question");e.length&&e.forEach(e=>{e.addEventListener("click",()=>{const t="true"===e.getAttribute("aria-expanded"),r=e.getAttribute("aria-controls"),o=document.getElementById(r);o&&(e.setAttribute("aria-expanded",String(!t)),o.setAttribute("aria-hidden",String(t)))})})});const lenis=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smooth:!0});function splitText(e){const t=[...e.childNodes];return e.innerHTML="",t.forEach(t=>{if(t.nodeType!==Node.ELEMENT_NODE){if(t.nodeType===Node.TEXT_NODE){[...t.textContent].forEach(t=>{if(""===t.trim())return;const r=document.createElement("span");r.textContent=t,r.style.display="inline-block",e.appendChild(r)})}}else e.appendChild(t)}),e.querySelectorAll("span")}function observeCharReveal(e,t={}){const r=splitText(e);if(!r.length)return;const o=t.stagger||.04;gsap.set(r,{y:60,opacity:0});const n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(gsap.to(r,{y:0,opacity:1,duration:.8,stagger:o,ease:"power2.out"}),n.unobserve(e.target))})},{rootMargin:"-20% 0px"});n.observe(e)}gsap.registerPlugin(ScrollTrigger),lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0),window.addEventListener("load",()=>{ScrollTrigger.refresh()}),document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.addEventListener("load",()=>{ScrollTrigger.refresh()})}),window.addEventListener("load",()=>{const e=document.querySelector(".l-header"),t=document.querySelector(".p-hero__image"),r=document.querySelector(".p-hero__catch-main"),o=document.querySelector(".p-hero__catch-sub");if(!t||!r)return;const n=splitText(r),a=gsap.timeline({delay:.8,onComplete:()=>{const e=document.querySelector(".p-concept__title");e&&observeCharReveal(e,{stagger:.04})}}),i=document.querySelector(".l-main");i&&a.set(i,{opacity:1}),a.to(t,{opacity:1,duration:1,ease:"power2.out"}),e&&a.to(e,{opacity:1,duration:1,ease:"power2.out"},"<"),a.fromTo(n,{y:40,opacity:0},{y:0,opacity:1,duration:.6,stagger:.04,ease:"power2.out"}),o&&a.to(o,{opacity:1,duration:.8,ease:"power2.out"},"-=0.3")}),document.querySelectorAll(".c-title__en").forEach(e=>{observeCharReveal(e,{stagger:.08})}),window.matchMedia("(min-width: 769px)").matches&&(document.querySelectorAll(".p-value__item-image img").forEach(e=>{gsap.fromTo(e,{yPercent:-20},{yPercent:20,ease:"none",scrollTrigger:{trigger:e.closest(".p-value__item"),start:"top bottom",end:"bottom top",scrub:!0}})}),document.querySelectorAll(".p-service__item-image img").forEach(e=>{gsap.fromTo(e,{yPercent:0,scale:1.3},{yPercent:15,scale:1.3,ease:"none",scrollTrigger:{trigger:e.closest(".p-service__item"),start:"top bottom",end:"bottom top",scrub:!0}})})),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const r=e.getAttribute("href");if("#"===r||"#top"===r)return t.preventDefault(),void lenis.scrollTo(0);const o=document.querySelector(r);o&&(t.preventDefault(),lenis.scrollTo(o))})});
//# sourceMappingURL=script.min.js.map
