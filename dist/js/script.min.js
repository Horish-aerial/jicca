"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".c-hamburger"),t=document.querySelector(".l-header"),o=document.querySelector("#global-nav");if(!e||!t||!o)return;const r=()=>{t.classList.remove("is-nav-open"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","メニューを開く"),o.setAttribute("aria-hidden","true"),document.body.classList.remove("is-menu-open")};e.addEventListener("click",()=>{t.classList.contains("is-nav-open")?r():(t.classList.add("is-nav-open"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","メニューを閉じる"),o.setAttribute("aria-hidden","false"),document.body.classList.add("is-menu-open"))}),o.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{r()})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".p-faq__question");e.length&&e.forEach(e=>{e.addEventListener("click",()=>{const t="true"===e.getAttribute("aria-expanded"),o=e.getAttribute("aria-controls"),r=document.getElementById(o);r&&(e.setAttribute("aria-expanded",String(!t)),r.setAttribute("aria-hidden",String(t)))})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".p-room__item-gallery");e.length&&e.forEach(e=>{const t=e.querySelector(".p-room__item-gallery-main img"),o=e.querySelectorAll(".p-room__item-gallery-thumbs img");t&&o.length&&o.forEach(e=>{e.style.cursor="pointer",e.addEventListener("click",()=>{t.src!==e.src&&(t.style.opacity="0",setTimeout(()=>{t.src=e.src,t.alt=e.alt,t.style.opacity="1"},300))})})})}),gsap.ticker.add(()=>{const e=document.querySelector(".l-header");e&&(window.scrollY>100?e.classList.add("is-scrolled"):e.classList.remove("is-scrolled"))}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".p-room__item-plan img");if(!e.length)return;const t=document.createElement("div");t.classList.add("c-lightbox");const o=document.createElement("img");t.appendChild(o),document.body.appendChild(t),e.forEach(e=>{e.style.cursor="pointer",e.addEventListener("click",()=>{o.src=e.src,o.alt=e.alt,t.classList.add("is-active")})}),t.addEventListener("click",()=>{t.classList.remove("is-active")})});const lenis=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-8*e)),smooth:!0});function splitText(e){const t=[...e.childNodes];return e.innerHTML="",t.forEach(t=>{if(t.nodeType!==Node.ELEMENT_NODE){if(t.nodeType===Node.TEXT_NODE){[...t.textContent].forEach(t=>{if(""===t.trim())return;const o=document.createElement("span");o.textContent=t,o.style.display="inline-block",e.appendChild(o)})}}else e.appendChild(t)}),e.querySelectorAll("span")}function observeCharReveal(e,t={}){const o=splitText(e);if(!o.length)return;const r=t.stagger||.04;gsap.set(o,{y:60,opacity:0});const n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(gsap.to(o,{y:0,opacity:1,duration:.8,stagger:r,ease:"power2.out"}),n.unobserve(e.target))})},{rootMargin:"-20% 0px"});n.observe(e)}gsap.registerPlugin(ScrollTrigger),lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0),window.addEventListener("load",()=>{ScrollTrigger.refresh()}),document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.addEventListener("load",()=>{ScrollTrigger.refresh()})}),window.addEventListener("load",()=>{const e=document.querySelector(".l-header"),t=document.querySelector(".p-hero__image"),o=document.querySelector(".p-hero__catch-main"),r=document.querySelector(".p-hero__catch-sub");if(!t||!o)return;const n=splitText(o),c=gsap.timeline({delay:.8,onComplete:()=>{const e=document.querySelector(".p-concept__title");e&&(observeCharReveal(e,{stagger:.04}),gsap.set(e,{opacity:1}))}}),a=document.querySelector(".l-main");a&&c.set(a,{opacity:1}),c.to(t,{opacity:1,duration:1,ease:"power2.out"}),e&&c.to(e,{opacity:1,duration:1,ease:"power2.out"},"<"),c.fromTo(n,{y:40,opacity:0},{y:0,opacity:1,duration:.6,stagger:.04,ease:"power2.out"}),r&&c.to(r,{opacity:1,duration:.8,ease:"power2.out"},"-=0.3")});const conceptText=document.querySelector(".p-concept__text");if(conceptText){const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(gsap.to(conceptText,{opacity:1,duration:.8,ease:"power2.out"}),e.unobserve(t.target))})},{rootMargin:"-20% 0px"});e.observe(conceptText)}document.querySelectorAll(".c-title__en").forEach(e=>{observeCharReveal(e,{stagger:.08})}),window.matchMedia("(min-width: 769px)").matches&&(document.querySelectorAll(".p-value__item-image img").forEach(e=>{gsap.fromTo(e,{yPercent:-5},{yPercent:5,ease:"none",scrollTrigger:{trigger:e.closest(".p-value__item"),start:"top bottom",end:"bottom top",scrub:!0}})}),document.querySelectorAll(".p-service__item-image img").forEach(e=>{gsap.fromTo(e,{yPercent:0,scale:1.3},{yPercent:8,scale:1.3,ease:"none",scrollTrigger:{trigger:e.closest(".p-service__item"),start:"top bottom",end:"bottom top",scrub:!0}})})),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const o=e.getAttribute("href");if("#"===o||"#top"===o)return t.preventDefault(),void lenis.scrollTo(0);const r=document.querySelector(o);r&&(t.preventDefault(),lenis.scrollTo(r))})});
//# sourceMappingURL=script.min.js.map
