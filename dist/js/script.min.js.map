{"version":3,"file":"script.min.js","names":["document","addEventListener","hamburger","querySelector","header","nav","closeNav","classList","remove","setAttribute","body","contains","add","querySelectorAll","forEach","link","faqButtons","length","button","isOpen","getAttribute","answerId","answer","getElementById","String","lenis","Lenis","duration","easing","t","Math","min","pow","smooth","splitText","el","nodes","childNodes","innerHTML","node","nodeType","Node","ELEMENT_NODE","TEXT_NODE","textContent","char","trim","span","createElement","style","display","appendChild","observeCharReveal","options","chars","stagger","gsap","set","y","opacity","observer","IntersectionObserver","entries","entry","isIntersecting","to","ease","unobserve","target","rootMargin","observe","registerPlugin","ScrollTrigger","on","update","ticker","time","raf","lagSmoothing","window","refresh","img","heroImage","heroCatchMain","heroCatchSub","mainChars","heroTl","timeline","delay","onComplete","conceptTitle","main","fromTo","conceptText","textObserver","matchMedia","matches","yPercent","scrollTrigger","trigger","closest","start","end","scrub","scale","e","href","preventDefault","scrollTo"],"sources":["script.js"],"mappings":"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","ignoreList":[],"sourcesContent":["'use strict';\n\n/* ハンバーガーメニュー開閉 */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const hamburger = document.querySelector('.c-hamburger');\n  const header = document.querySelector('.l-header');\n  const nav = document.querySelector('#global-nav');\n\n  if (!hamburger || !header || !nav) return;\n\n  const openNav = () => {\n    header.classList.add('is-nav-open');\n    hamburger.setAttribute('aria-expanded', 'true');\n    hamburger.setAttribute('aria-label', 'メニューを閉じる');\n    nav.setAttribute('aria-hidden', 'false');\n    document.body.classList.add('is-menu-open');\n  };\n\n  const closeNav = () => {\n    header.classList.remove('is-nav-open');\n    hamburger.setAttribute('aria-expanded', 'false');\n    hamburger.setAttribute('aria-label', 'メニューを開く');\n    nav.setAttribute('aria-hidden', 'true');\n    document.body.classList.remove('is-menu-open');\n  };\n\n  hamburger.addEventListener('click', () => {\n    const isOpen = header.classList.contains('is-nav-open');\n    if (isOpen) {\n      closeNav();\n    } else {\n      openNav();\n    }\n  });\n\n  nav.querySelectorAll('a').forEach((link) => {\n    link.addEventListener('click', () => {\n      closeNav();\n    });\n  });\n});\n\n/* FAQ アコーディオン */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const faqButtons = document.querySelectorAll('.p-faq__question');\n  if (!faqButtons.length) return;\n\n  faqButtons.forEach((button) => {\n    button.addEventListener('click', () => {\n      const isOpen = button.getAttribute('aria-expanded') === 'true';\n      const answerId = button.getAttribute('aria-controls');\n      const answer = document.getElementById(answerId);\n      if (!answer) return;\n\n      button.setAttribute('aria-expanded', String(!isOpen));\n      answer.setAttribute('aria-hidden', String(isOpen));\n    });\n  });\n});\n\n/* Lenis スムーススクロール */\n\nconst lenis = new Lenis({\n  duration: 1.2,\n  easing: (t) => Math.min(1, 1.001 - Math.pow(2, -8 * t)),\n  smooth: true,\n});\n\n/* GSAP + ScrollTrigger + Lenis 連携 */\n\ngsap.registerPlugin(ScrollTrigger);\n\nlenis.on('scroll', ScrollTrigger.update);\n\ngsap.ticker.add((time) => {\n  lenis.raf(time * 1000);\n});\ngsap.ticker.lagSmoothing(0);\n\nwindow.addEventListener('load', () => {\n  ScrollTrigger.refresh();\n});\n\ndocument.querySelectorAll('img[loading=\"lazy\"]').forEach((img) => {\n  img.addEventListener('load', () => {\n    ScrollTrigger.refresh();\n  });\n});\n\n/* ヒーロー オープニングアニメーション */\n\nwindow.addEventListener('load', () => {\n  const header = document.querySelector('.l-header');\n  const heroImage = document.querySelector('.p-hero__image');\n  const heroCatchMain = document.querySelector('.p-hero__catch-main');\n  const heroCatchSub = document.querySelector('.p-hero__catch-sub');\n\n  if (!heroImage || !heroCatchMain) return;\n\n  const mainChars = splitText(heroCatchMain);\n  const heroTl = gsap.timeline({\n    delay: 0.8,\n    onComplete: () => {\n      const conceptTitle = document.querySelector('.p-concept__title');\n      if (conceptTitle) {\n        observeCharReveal(conceptTitle, { stagger: 0.04 });\n        gsap.set(conceptTitle, { opacity: 1 });\n      }\n    },\n  });\n\n  const main = document.querySelector('.l-main');\n  if (main) {\n    heroTl.set(main, { opacity: 1 });\n  }\n\n  heroTl.to(heroImage, {\n    opacity: 1,\n    duration: 1,\n    ease: 'power2.out',\n  });\n\n  if (header) {\n    heroTl.to(\n      header,\n      {\n        opacity: 1,\n        duration: 1,\n        ease: 'power2.out',\n      },\n      '<',\n    );\n  }\n\n  heroTl.fromTo(\n    mainChars,\n    { y: 40, opacity: 0 },\n    {\n      y: 0,\n      opacity: 1,\n      duration: 0.6,\n      stagger: 0.04,\n      ease: 'power2.out',\n    },\n  );\n\n  if (heroCatchSub) {\n    heroTl.to(\n      heroCatchSub,\n      {\n        opacity: 1,\n        duration: 0.8,\n        ease: 'power2.out',\n      },\n      '-=0.3',\n    );\n  }\n});\n\n/* テキスト文字送りアニメーション */\n\nfunction splitText(el) {\n  const nodes = [...el.childNodes];\n  el.innerHTML = '';\n\n  nodes.forEach((node) => {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      el.appendChild(node);\n      return;\n    }\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      const text = node.textContent;\n      [...text].forEach((char) => {\n        if (char.trim() === '') return;\n        const span = document.createElement('span');\n        span.textContent = char;\n        span.style.display = 'inline-block';\n        el.appendChild(span);\n      });\n    }\n  });\n\n  return el.querySelectorAll('span');\n}\n\nfunction observeCharReveal(el, options = {}) {\n  const chars = splitText(el);\n  if (!chars.length) return;\n\n  const stagger = options.stagger || 0.04;\n\n  gsap.set(chars, { y: 60, opacity: 0 });\n\n  const observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (!entry.isIntersecting) return;\n\n        gsap.to(chars, {\n          y: 0,\n          opacity: 1,\n          duration: 0.8,\n          stagger: stagger,\n          ease: 'power2.out',\n        });\n\n        observer.unobserve(entry.target);\n      });\n    },\n\n    { rootMargin: '-20% 0px' },\n  );\n\n  observer.observe(el);\n}\n\nconst conceptText = document.querySelector('.p-concept__text');\nif (conceptText) {\n  const textObserver = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (!entry.isIntersecting) return;\n        gsap.to(conceptText, {\n          opacity: 1,\n          duration: 0.8,\n          ease: 'power2.out',\n        });\n        textObserver.unobserve(entry.target);\n      });\n    },\n    { rootMargin: '-20% 0px' },\n  );\n  textObserver.observe(conceptText);\n}\n\ndocument.querySelectorAll('.c-title__en').forEach((el) => {\n  observeCharReveal(el, { stagger: 0.08 });\n});\n\n/* パララックス（PC のみ） */\n\nif (window.matchMedia('(min-width: 769px)').matches) {\n  document.querySelectorAll('.p-value__item-image img').forEach((img) => {\n    gsap.fromTo(\n      img,\n      { yPercent: -5 },\n      {\n        yPercent: 5,\n        ease: 'none',\n        scrollTrigger: {\n          trigger: img.closest('.p-value__item'),\n          start: 'top bottom',\n          end: 'bottom top',\n          scrub: true,\n        },\n      },\n    );\n  });\n\n  document.querySelectorAll('.p-service__item-image img').forEach((img) => {\n    gsap.fromTo(\n      img,\n      { yPercent: 0, scale: 1.3 },\n      {\n        yPercent: 8,\n        scale: 1.3,\n        ease: 'none',\n        scrollTrigger: {\n          trigger: img.closest('.p-service__item'),\n          start: 'top bottom',\n          end: 'bottom top',\n          scrub: true,\n        },\n      },\n    );\n  });\n}\n\n/* アンカーリンク スムーススクロール */\n\ndocument.querySelectorAll('a[href^=\"#\"]').forEach((link) => {\n  link.addEventListener('click', (e) => {\n    const href = link.getAttribute('href');\n    if (href === '#' || href === '#top') {\n      e.preventDefault();\n      lenis.scrollTo(0);\n      return;\n    }\n\n    const target = document.querySelector(href);\n    if (!target) return;\n\n    e.preventDefault();\n    lenis.scrollTo(target);\n  });\n});\n"]}