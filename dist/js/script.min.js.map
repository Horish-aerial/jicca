{"version":3,"file":"script.min.js","names":["document","addEventListener","hamburger","querySelector","header","nav","closeNav","classList","remove","setAttribute","body","contains","add","querySelectorAll","forEach","link","faqButtons","length","button","isOpen","getAttribute","answerId","answer","getElementById","String","galleries","gallery","mainImg","thumbs","thumb","style","cursor","src","opacity","setTimeout","alt","gsap","ticker","window","scrollY","planImages","overlay","createElement","enlargedImg","appendChild","img","lenis","Lenis","duration","easing","t","Math","min","pow","smooth","splitText","el","nodes","childNodes","innerHTML","node","nodeType","Node","ELEMENT_NODE","TEXT_NODE","textContent","char","trim","span","display","observeCharReveal","options","chars","stagger","set","y","observer","IntersectionObserver","entries","entry","isIntersecting","to","ease","unobserve","target","rootMargin","observe","registerPlugin","ScrollTrigger","on","update","time","raf","lagSmoothing","refresh","heroImage","heroCatchMain","heroCatchSub","mainChars","heroTl","timeline","delay","onComplete","conceptTitle","main","fromTo","conceptText","textObserver","matchMedia","matches","yPercent","scrollTrigger","trigger","closest","start","end","scrub","scale","e","href","preventDefault","scrollTo"],"sources":["script.js"],"mappings":"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","ignoreList":[],"sourcesContent":["'use strict';\n\n/* ハンバーガーメニュー開閉 */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const hamburger = document.querySelector('.c-hamburger');\n  const header = document.querySelector('.l-header');\n  const nav = document.querySelector('#global-nav');\n\n  if (!hamburger || !header || !nav) return;\n\n  const openNav = () => {\n    header.classList.add('is-nav-open');\n    hamburger.setAttribute('aria-expanded', 'true');\n    hamburger.setAttribute('aria-label', 'メニューを閉じる');\n    nav.setAttribute('aria-hidden', 'false');\n    document.body.classList.add('is-menu-open');\n  };\n\n  const closeNav = () => {\n    header.classList.remove('is-nav-open');\n    hamburger.setAttribute('aria-expanded', 'false');\n    hamburger.setAttribute('aria-label', 'メニューを開く');\n    nav.setAttribute('aria-hidden', 'true');\n    document.body.classList.remove('is-menu-open');\n  };\n\n  hamburger.addEventListener('click', () => {\n    const isOpen = header.classList.contains('is-nav-open');\n    if (isOpen) {\n      closeNav();\n    } else {\n      openNav();\n    }\n  });\n\n  nav.querySelectorAll('a').forEach((link) => {\n    link.addEventListener('click', () => {\n      closeNav();\n    });\n  });\n});\n\n/* FAQ アコーディオン */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const faqButtons = document.querySelectorAll('.p-faq__question');\n  if (!faqButtons.length) return;\n\n  faqButtons.forEach((button) => {\n    button.addEventListener('click', () => {\n      const isOpen = button.getAttribute('aria-expanded') === 'true';\n      const answerId = button.getAttribute('aria-controls');\n      const answer = document.getElementById(answerId);\n      if (!answer) return;\n\n      button.setAttribute('aria-expanded', String(!isOpen));\n      answer.setAttribute('aria-hidden', String(isOpen));\n    });\n  });\n});\n\n/* ギャラリー サムネイル切り替え */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const galleries = document.querySelectorAll('.p-room__item-gallery');\n  if (!galleries.length) return;\n\n  galleries.forEach((gallery) => {\n    const mainImg = gallery.querySelector('.p-room__item-gallery-main img');\n    const thumbs = gallery.querySelectorAll('.p-room__item-gallery-thumbs img');\n    if (!mainImg || !thumbs.length) return;\n\n    thumbs.forEach((thumb) => {\n      thumb.style.cursor = 'pointer';\n      thumb.addEventListener('click', () => {\n        if (mainImg.src === thumb.src) return;\n        mainImg.style.opacity = '0';\n        setTimeout(() => {\n          mainImg.src = thumb.src;\n          mainImg.alt = thumb.alt;\n          mainImg.style.opacity = '1';\n        }, 300);\n      });\n    });\n  });\n});\n\n/* ヘッダー スクロール切り替え */\n\ngsap.ticker.add(() => {\n  const header = document.querySelector('.l-header');\n  if (!header) return;\n\n  if (window.scrollY > 100) {\n    header.classList.add('is-scrolled');\n  } else {\n    header.classList.remove('is-scrolled');\n  }\n});\n\n/* 間取り図 画像拡大 */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const planImages = document.querySelectorAll('.p-room__item-plan img');\n  if (!planImages.length) return;\n\n  const overlay = document.createElement('div');\n  overlay.classList.add('c-lightbox');\n  const enlargedImg = document.createElement('img');\n  overlay.appendChild(enlargedImg);\n  document.body.appendChild(overlay);\n\n  planImages.forEach((img) => {\n    img.style.cursor = 'pointer';\n    img.addEventListener('click', () => {\n      enlargedImg.src = img.src;\n      enlargedImg.alt = img.alt;\n      overlay.classList.add('is-active');\n    });\n  });\n\n  overlay.addEventListener('click', () => {\n    overlay.classList.remove('is-active');\n  });\n});\n\n/* Lenis スムーススクロール */\n\nconst lenis = new Lenis({\n  duration: 1.2,\n  easing: (t) => Math.min(1, 1.001 - Math.pow(2, -8 * t)),\n  smooth: true,\n});\n\n/* GSAP + ScrollTrigger + Lenis 連携 */\n\ngsap.registerPlugin(ScrollTrigger);\n\nlenis.on('scroll', ScrollTrigger.update);\n\ngsap.ticker.add((time) => {\n  lenis.raf(time * 1000);\n});\ngsap.ticker.lagSmoothing(0);\n\nwindow.addEventListener('load', () => {\n  ScrollTrigger.refresh();\n});\n\ndocument.querySelectorAll('img[loading=\"lazy\"]').forEach((img) => {\n  img.addEventListener('load', () => {\n    ScrollTrigger.refresh();\n  });\n});\n\n/* ヒーロー オープニングアニメーション */\n\nwindow.addEventListener('load', () => {\n  const header = document.querySelector('.l-header');\n  const heroImage = document.querySelector('.p-hero__image');\n  const heroCatchMain = document.querySelector('.p-hero__catch-main');\n  const heroCatchSub = document.querySelector('.p-hero__catch-sub');\n\n  if (!heroImage || !heroCatchMain) return;\n\n  const mainChars = splitText(heroCatchMain);\n  const heroTl = gsap.timeline({\n    delay: 0.8,\n    onComplete: () => {\n      const conceptTitle = document.querySelector('.p-concept__title');\n      if (conceptTitle) {\n        observeCharReveal(conceptTitle, { stagger: 0.04 });\n        gsap.set(conceptTitle, { opacity: 1 });\n      }\n    },\n  });\n\n  const main = document.querySelector('.l-main');\n  if (main) {\n    heroTl.set(main, { opacity: 1 });\n  }\n\n  heroTl.to(heroImage, {\n    opacity: 1,\n    duration: 1,\n    ease: 'power2.out',\n  });\n\n  if (header) {\n    heroTl.to(\n      header,\n      {\n        opacity: 1,\n        duration: 1,\n        ease: 'power2.out',\n      },\n      '<',\n    );\n  }\n\n  heroTl.fromTo(\n    mainChars,\n    { y: 40, opacity: 0 },\n    {\n      y: 0,\n      opacity: 1,\n      duration: 0.6,\n      stagger: 0.04,\n      ease: 'power2.out',\n    },\n  );\n\n  if (heroCatchSub) {\n    heroTl.to(\n      heroCatchSub,\n      {\n        opacity: 1,\n        duration: 0.8,\n        ease: 'power2.out',\n      },\n      '-=0.3',\n    );\n  }\n});\n\n/* テキスト文字送りアニメーション */\n\nfunction splitText(el) {\n  const nodes = [...el.childNodes];\n  el.innerHTML = '';\n\n  nodes.forEach((node) => {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      el.appendChild(node);\n      return;\n    }\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      const text = node.textContent;\n      [...text].forEach((char) => {\n        if (char.trim() === '') return;\n        const span = document.createElement('span');\n        span.textContent = char;\n        span.style.display = 'inline-block';\n        el.appendChild(span);\n      });\n    }\n  });\n\n  return el.querySelectorAll('span');\n}\n\nfunction observeCharReveal(el, options = {}) {\n  const chars = splitText(el);\n  if (!chars.length) return;\n\n  const stagger = options.stagger || 0.04;\n\n  gsap.set(chars, { y: 60, opacity: 0 });\n\n  const observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (!entry.isIntersecting) return;\n\n        gsap.to(chars, {\n          y: 0,\n          opacity: 1,\n          duration: 0.8,\n          stagger: stagger,\n          ease: 'power2.out',\n        });\n\n        observer.unobserve(entry.target);\n      });\n    },\n\n    { rootMargin: '-20% 0px' },\n  );\n\n  observer.observe(el);\n}\n\nconst conceptText = document.querySelector('.p-concept__text');\nif (conceptText) {\n  const textObserver = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (!entry.isIntersecting) return;\n        gsap.to(conceptText, {\n          opacity: 1,\n          duration: 0.8,\n          ease: 'power2.out',\n        });\n        textObserver.unobserve(entry.target);\n      });\n    },\n    { rootMargin: '-20% 0px' },\n  );\n  textObserver.observe(conceptText);\n}\n\ndocument.querySelectorAll('.c-title__en').forEach((el) => {\n  observeCharReveal(el, { stagger: 0.08 });\n});\n\n/* パララックス（PC のみ） */\n\nif (window.matchMedia('(min-width: 769px)').matches) {\n  document.querySelectorAll('.p-value__item-image img').forEach((img) => {\n    gsap.fromTo(\n      img,\n      { yPercent: -5 },\n      {\n        yPercent: 5,\n        ease: 'none',\n        scrollTrigger: {\n          trigger: img.closest('.p-value__item'),\n          start: 'top bottom',\n          end: 'bottom top',\n          scrub: true,\n        },\n      },\n    );\n  });\n\n  document.querySelectorAll('.p-service__item-image img').forEach((img) => {\n    gsap.fromTo(\n      img,\n      { yPercent: 0, scale: 1.3 },\n      {\n        yPercent: 8,\n        scale: 1.3,\n        ease: 'none',\n        scrollTrigger: {\n          trigger: img.closest('.p-service__item'),\n          start: 'top bottom',\n          end: 'bottom top',\n          scrub: true,\n        },\n      },\n    );\n  });\n}\n\n/* アンカーリンク スムーススクロール */\n\ndocument.querySelectorAll('a[href^=\"#\"]').forEach((link) => {\n  link.addEventListener('click', (e) => {\n    const href = link.getAttribute('href');\n    if (href === '#' || href === '#top') {\n      e.preventDefault();\n      lenis.scrollTo(0);\n      return;\n    }\n\n    const target = document.querySelector(href);\n    if (!target) return;\n\n    e.preventDefault();\n    lenis.scrollTo(target);\n  });\n});\n"]}